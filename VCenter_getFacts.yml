# 
# https://docs.ansible.com/ansible/latest/modules/vmware_guest_module.html#vmware-guest-module
# Requirement 
# PyVmomi

---
#- hosts: localhost
#  connection: local
#  vars_files:
#    - default_config.yml
#    - vault.yml
#  gather_facts: no
  #tasks:
  - name: VM's
    vmware_vm_facts:
      validate_certs: False
      hostname: "{{ vcenter_hostname }}"
      #hostname: vcenter.pn.com
      username: "{{ vcenter_username }}"
      password: "{{ vcenter_password }}"
      vm_type: all
    delegate_to: localhost
    register: vmfacts
    tags: status

  - name: VM's
    debug:
      msg: "{{ vmfacts }}"
    tags: status
#